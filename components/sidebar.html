<!-- Sidebar (refreshed structure) -->
<div class="sidebar" id="sidebar">
  <div class="item" onclick="toggleSidebar()">
    <i class="fas fa-bars"></i><span>Menu</span>
  </div>

  <!-- Use <a> for navigation so right-click/open-in-new-tab works -->
  <a class="item" href="PowerUp_Dashboard.html" data-route="dashboard">
    <i class="fas fa-home"></i><span>Dashboard</span>
  </a>

  <a class="item" href="level-tracker.html" data-route="level">
    <i class="fas fa-layer-group"></i><span>Level Tracker</span>
  </a>

  <a class="item" href="power-hours.html" data-route="power">
    <i class="fas fa-clock"></i><span>Power Hours</span>
  </a>

  <a class="item" href="notes.html" data-route="notes">
    <i class="fas fa-sticky-note"></i><span>Notes</span>
  </a>

  <a class="item" href="squads.html" data-route="squads">
    <i class="fas fa-users"></i><span>Squads</span>
  </a>
</div>

<script>
  // Collapse/expand to match your refreshed behavior (CSS should handle the class)
  function toggleSidebar() {
    document.body.classList.toggle('sidebar-collapsed');
  }

  // Mark current page active using your refreshed .item.active class
  (function markActive() {
    const p = location.pathname.toLowerCase();
    const routes = [
      { sel: '[data-route="dashboard"]', patterns: [/powerup_dashboard\.html$/, /powerup-dashboard\.html$/] },
      { sel: '[data-route="level"]',     patterns: [/level-tracker\.html$/] },
      { sel: '[data-route="power"]',     patterns: [/power-hours\.html$/] },
      { sel: '[data-route="notes"]',     patterns: [/notes\.html$/] },
      { sel: '[data-route="squads"]',    patterns: [/squads\.html$/, /squad-details\.html$/, /add-squad\.html$/] },
    ];
    routes.forEach(r => {
      const el = document.querySelector(r.sel);
      if (!el) return;
      if (r.patterns.some(rx => rx.test(p))) el.classList.add('active');
    });
  })();
</script>
